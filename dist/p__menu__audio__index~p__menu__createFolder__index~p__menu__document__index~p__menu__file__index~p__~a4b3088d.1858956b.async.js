(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0V0U":function(e,t,a){e.exports={Circle:"Circle___3IGRE",circle:"Circle___3IGRE"}},"4ANX":function(e,t,a){"use strict";var n=a("R+Pm"),i=a("nKUr"),c=e=>{var t=Object(n["a"])({scriptUrl:"//at.alicdn.com/t/font_2995112_qgh3oirnk5r.js"});return Object(i["jsx"])(t,{className:e.className,type:e.type,style:{fontSize:e.size+"px",color:e.color}})};t["a"]=c},"9Eo+":function(e,t,a){e.exports={loader:"loader___1xqSB",row:"row___1mQXy",flicker:"flicker___1kHpo"}},"9PCQ":function(e,t,a){e.exports=a.p+"static/noData.0598ba57.png"},"9cNf":function(e,t,a){e.exports={ShareBox:"ShareBox___2r_Kz",shareBox:"ShareBox___2r_Kz",title:"title___1Ldne",inputBox:"inputBox___1bXNt",input:"input___3SdK1",copy:"copy___Wvmyi",load:"load___1cu7u",move:"move___1xgUd"}},FQJK:function(e,t,a){"use strict";a("2qtc");var n=a("kLXV"),i=a("k1fw"),c=a("tJVT"),s=a("P6Xv"),l=a.n(s),r=a("/MKj"),o=a("q1tI"),d=a("cEo8"),b=a.n(d),u=(a("T2oS"),a("W9HT")),j=(a("miYZ"),a("tsqr")),v=a("9og8"),p=a("WmNS"),f=a.n(p),h=a("ZmDx"),m=a.n(h),_=a("4ANX"),x=a("jnMK"),O=a("2LCi"),g=e=>{var t=e.substring(e.lastIndexOf(".")+1),a="";switch(t){case"png":case"jpg":case"jpeg":case"bmp":case"gif":case"webp":case"psd":case"svg":case"tiff":a="picture";break;case"cda":case"wav":case"mp3":case"wmv":case"flac":case"aac":a="music";break;case"mp4":case"avi":case"mov":case"rmvb":case"rm":case"flv":case"3gp":a="video";break;case"txt":case"xls":case"xlsx":case"doc":case"docx":case"ppt":case"pptx":case"pdf":case"md":a="document";break;default:a="other";break}return a},y=a("nKUr"),k=e=>{var t,a=Object(o["useState"])(!1),n=Object(c["a"])(a,2),s=n[0],l=(n[1],O["b"].contract),r=(O["b"].getID,function(){var a=Object(v["a"])(f.a.mark((function a(n){var c,r,o,d,b;return f.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(c=t.files,r=t=>{e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open",fileDownloadStatus:{progress:t/c[0].size*100,fileName:c[0].name,filesize:c[0].size,type:"Parsing"}}})},0!==c.length){a.next=5;break}return j["default"].warning("Select File To Upload!"),a.abrupt("return");case 5:if(!s){a.next=7;break}return a.abrupt("return");case 7:return a.prev=7,e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open",fileDownloadStatus:{progress:0,fileName:c[0].name,filesize:c[0].size,type:"Parsing"}}}),a.next=11,O["a"].put(c,{onStoredChunk:r});case 11:return o=a.sent,d=[],d="newFloder"===e.floderType?[g(c[0].name),e.title]:[g(c[0].name)],b={cid:o,file_name:c[0].name,file_size:c[0].size,file_type:c[0].type,file_owner_folder:d},e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open"}}),a.next=18,l.store(b);case 18:e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:c[0].name,filesize:c[0].size,type:"Success",initObj:Object(i["a"])(Object(i["a"])({},b),{},{created:(new Date).getTime()+"000000"})}}}),e.reloadTable(),a.next=27;break;case 22:a.prev=22,a.t0=a["catch"](7),console.log(a.t0),"filesRepetition"==a.t0.Error?j["default"].warning("Files exist on the blockchain,Do Not Upload Again!"):j["default"].error("Error"),e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:c[0].name,filesize:c[0].size,initObj:null,type:"Error"}}});case 27:case"end":return a.stop()}}),a,null,[[7,22]])})));return function(e){return a.apply(this,arguments)}}());return Object(y["jsx"])(x["a"],{borderAnimation:!0,className:m.a.card,background:"linear-gradient(178deg, rgb(22, 23, 25) 0%, rgb(32, 38, 42) 100%)",defaultBorder:!1,children:Object(y["jsxs"])("div",{className:m.a.ImportButton,onClick:()=>{t.click()},children:[Object(y["jsx"])("div",{className:m.a.addIconBox,children:Object(y["jsx"])(_["a"],{type:"icon-daoruwenjian1",size:16,color:"rgba(255, 255, 255, 0.8)"})}),Object(y["jsx"])(u["a"],{spinning:!1,size:"small",children:Object(y["jsx"])("div",{className:m.a.title,children:"Upload"})}),Object(y["jsx"])("input",{type:"file",onChange:r,className:m.a.displayNone,ref:e=>{t=e}})]})})};function w(e){var t=e.globalTop.token;return{token:t}}var N=Object(r["c"])(w)(k),S=e=>Object(y["jsx"])("div",{className:"".concat(b.a.ActionHeader," ActionHeader"),children:Object(y["jsx"])(N,{floderType:e.floderType,setFileModelDisplay:e.setFileModelDisplay,setFileDownloadStatus:e.setFileDownloadStatus,title:e.title,reloadTable:e.reloadTable})}),B=S,D=(a("Q9mQ"),a("diRs")),T=(a("sRBo"),a("kaz8")),C=a("qmVF"),I=a.n(C),M=a("VmGg"),L=a("rZqG"),z=a("wb4B"),R=a.n(z),P=e=>{if("no"===e.allChecked)return Object(y["jsx"])(y["Fragment"],{});var t,a=e.tableCheckedList.filter((e=>e));function n(t){t.callback&&t.callback(e.checkindex)}a.length>1&&(t=["download","rename","check","copy","move"]);var i=e.setList.map(((e,a)=>{var i=t&&t.includes(e.key);return Object(y["jsx"])("div",{className:"".concat(R.a.box," ").concat(i?R.a.disabled:""),onClick:()=>!i&&n(e),children:Object(y["jsx"])(x["a"],{borderAnimation:!i,defaultBorder:!1,background:"linear-gradient(135deg, rgb(33, 35, 40), rgba(45, 48, 55, 1))",children:Object(y["jsxs"])("div",{className:R.a.innerBox,children:[Object(y["jsx"])(_["a"],{type:e.icon,size:24}),Object(y["jsx"])("div",{className:R.a.title,children:e.title})]},a)})},a)}));return Object(y["jsx"])("div",{className:"".concat(R.a.FileSetBottomRender," animate__animated animate__fadeInUp animate__faster"),children:i})};function A(e){var t=e.globalTop.token;return{token:t}}var E=Object(r["c"])(A)(P),F=a("Ns3m"),U=a("SLhE"),H=a("UTfn"),K=O["b"].getID,V=K,q="".concat(V,"_uploadFiles"),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number(localStorage.getItem(q))||0;t+=e,localStorage.setItem(q,t.toString())},W=a("vDqi"),X=a.n(W),G=a("ODOT"),J=a("snPH"),Z=a.n(J),Y=a("lfel"),$=a("0V0U"),ee=a.n($),te=a("Womt"),ae=a("EgnG"),ne=a("Y5c8"),ie=e=>{var t=2,a=.3,n=5,c=e.size,s=!0,l="",r="",d="",b=[],u=new te["Group"],j=new te["Raycaster"],v=new te["Vector2"],p=document.querySelector(".CheckCircle"),f=598,h=598;function m(t){if(p){var a=p.getBoundingClientRect(),n=t.clientX-a.x,i=t.clientY-a.y;v.x=n/f*2-1,v.y=-i/h*2+1,j.setFromCamera(v,d);var c=j.intersectObjects(u.children);c.length&&e.setListActiveIndex(c[0].object.INDEX)}}function _(){var e,t;if(l=new te["Scene"],l.fog=new te["Fog"](2961463,10,50),d=new te["PerspectiveCamera"](40,f/h,1,500),d.position.z=23,r=new te["WebGLRenderer"]({powerPreference:"high-performance",alpha:!0,preserveDrawingBuffer:!1}),r.setSize(f,h),p){p.innerHTML="",p.appendChild(r.domElement),r.domElement.classList.add("webgl-canvas");var a=new ne(d,r.domElement);a.enablePan=!1,a.enableZoom=!1,a.autoRotate=!0,a.autoRotateSpeed=1,a.enableDamping=!1;var n=new te["AmbientLight"](46020,.1);n.position.copy(d.position),l.add(n);var i=new te["PointLight"](46020,.3,0);i.position.set(-200,200,0),l.add(i);var c=()=>{requestAnimationFrame(c),s&&a.update(),r.render(l,d)};c(),null===(e=document.querySelector(".CheckCircle"))||void 0===e||e.addEventListener("mousemove",(()=>{s=!1})),null===(t=document.querySelector(".CheckCircle"))||void 0===t||t.addEventListener("mouseleave",(()=>{s=!0})),console.log(123),x()}}function x(){for(var e=()=>{var e,a,i=t+n,c=0,s=()=>{e=2*Math.random()-1,a=2*Math.random()-1,c=Math.pow(e,2)+Math.pow(a,2)};s();while(c>1)s();var l=2*e*Math.sqrt(1-c),r=2*a*Math.sqrt(1-c),o=1-2*c;return{x:Math.round(i*l),y:Math.round(i*r),z:Math.round(i*o)}},a=function(t){var a=e();setTimeout((()=>{O(a.x,a.y,a.z,t)}),0)},i=0;i<c;i++)a(i);l.add(u)}function O(e,t,n,c){var s=new te["SphereGeometry"](a,32,32,6,6.3,6,6.3),o=new te["MeshStandardMaterial"]({emissive:46020,roughness:0,metalness:0,wireframe:!1,vertexColors:!1}),j=new te["Mesh"](s,o);j.INDEX=c,setTimeout((()=>{var a={x:0,y:0,z:0},c=Object(i["a"])({},a);Object(ae["a"])({targets:a,x:e,y:t,z:n,round:1e3,duration:500,easing:"linear",update(){j.translateX(a.x-c.x),j.translateY(a.y-c.y),j.translateZ(a.z-c.z),c=Object(i["a"])({},a)}})}),300),b.push(j.position),u.add(j),r.render(l,d)}return Object(o["useEffect"])((()=>{_(),p&&p.addEventListener("click",m,!1)}),[e.size]),Object(y["jsx"])("div",{className:"".concat(ee.a.Circle," CheckCircle")})};function ce(e){var t=e.globalTop.token;return{token:t}}var se=Object(r["c"])(ce)(ie),le=se,re=a("+nDH"),oe=e=>{var t,a;function n(){e.setCheckRender(null)}var i=Object(o["useState"])(""),s=Object(c["a"])(i,2),l=s[0],r=s[1],d=Object(o["useState"])([]),b=Object(c["a"])(d,2),u=b[0],j=b[1],p=Object(o["useState"])(0),h=Object(c["a"])(p,2),m=h[0],_=h[1];function x(){return O.apply(this,arguments)}function O(){return O=Object(v["a"])(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(U["c"])(e.item.sid),t.next=3,X.a.post(re["a"]+":25001/api/v0/dag/get?arg=".concat(a));case 3:n=t.sent,n.data&&(r(n.data.Data["/"].bytes),j(n.data.Links));case 5:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}return Object(o["useEffect"])((()=>{x()}),[]),Object(y["jsxs"])("div",{className:Z.a.check,children:[Object(y["jsxs"])("div",{className:Z.a.header,children:[Object(y["jsx"])("div",{className:Z.a.parent,onClick:n,children:e.title||"\u6587\u4ef6"}),"/",Object(y["jsx"])("div",{className:Z.a.now,children:"\u68c0\u67e5"})]}),Object(y["jsx"])("div",{className:Z.a.circle,children:Object(y["jsx"])(le,{size:u.length,setListActiveIndex:_})}),Object(y["jsxs"])("div",{className:Z.a.contentBox,children:[Object(y["jsxs"])("div",{className:"".concat(Z.a.file," ").concat(Z.a.card),children:[Object(y["jsx"])("div",{className:Z.a.bigTitle,children:"\u6587\u4ef6\u540d\u79f0"}),Object(y["jsxs"])("div",{className:Z.a.line,children:[Object(y["jsx"])("div",{className:Z.a.lineTitle,children:"\u6587\u4ef6SID\uff1a"}),Object(y["jsx"])("div",{className:Z.a.value,children:e.item.sid})]}),Object(y["jsxs"])("div",{className:Z.a.line,children:[Object(y["jsx"])("div",{className:Z.a.lineTitle,children:"\u6587\u4ef6\u5927\u5c0f\uff1a"}),Object(y["jsx"])("div",{className:Z.a.value,children:Object(F["b"])(e.item.file_size)})]}),Object(y["jsxs"])("div",{className:Z.a.line,children:[Object(y["jsx"])("div",{className:Z.a.lineTitle,children:"\u5207\u7247\u6570\u91cf\uff1a"}),Object(y["jsxs"])("div",{className:Z.a.value,children:[u.length," \u4e2a"]})]}),Object(y["jsxs"])("div",{className:Z.a.line,children:[Object(y["jsx"])("div",{className:Z.a.lineTitle,children:"\u4e0a\u4f20\u65f6\u95f4\uff1a"}),Object(y["jsx"])("div",{className:Z.a.value,children:Object(F["a"])(e.item.created)})]})]}),Object(y["jsxs"])("div",{className:"".concat(Z.a.slice," ").concat(Z.a.card),children:[Object(y["jsx"])("div",{className:Z.a.bigTitle,children:"\u5207\u7247\u4fe1\u606f"}),Object(y["jsxs"])("div",{className:Z.a.line,children:[Object(y["jsx"])("div",{className:Z.a.lineTitle,children:"\u5207\u7247SID\uff1a"}),Object(y["jsx"])("div",{className:Z.a.value,children:null===(t=u[m])||void 0===t?void 0:t.Hash["/"]})]}),Object(y["jsxs"])("div",{className:Z.a.line,children:[Object(y["jsx"])("div",{className:Z.a.lineTitle,children:"\u6587\u4ef6\u5927\u5c0f\uff1a"}),Object(y["jsx"])("div",{className:Z.a.value,children:Object(F["b"])(null===(a=u[m])||void 0===a?void 0:a.Tsize)})]}),Object(y["jsx"])(Y["a"],{height:20}),Object(y["jsx"])("div",{className:Z.a.bigTitle,children:"\u805a\u5408\u54c8\u5e0c"}),Object(y["jsx"])("div",{className:"".concat(Z.a.value," ").concat(Z.a.wordWrap),children:l})]})]})]})};function de(e){var t=e.globalTop.token;return{token:t}}var be=Object(r["c"])(de)(oe),ue=be,je=a("bIAK"),ve=O["b"].getlist,pe=(O["b"].contract,O["b"].getID,e=>{var t=Object(o["useState"])(!1),a=Object(c["a"])(t,2),n=a[0],s=a[1],l=[{key:"download",icon:"icon-xiazai1",title:"Download",callback:d},{key:"share",icon:"icon-fenxiang",title:"Share Link",callback(t){var a=null===p||void 0===p?void 0:p.list[t].cid;e.setShareUrl("https://".concat(a,".ipfs.dweb.link/")),e.setShareModal(!0)}},{key:"rename",icon:"icon-zhongmingming",title:"Rename",callback:xe},{key:"copy",icon:"icon-fuzhi",title:"Copy",callback(t){e.setCheckData(null===p||void 0===p?void 0:p.list[t]),e.setSelectListType("copy"),e.setSelectListModal(!0)}},{key:"move",icon:"icon-yidongdao",title:"Move",callback(){e.setSelectListType("move"),e.setSelectListModal(!0)}},{key:"delete",icon:"icon-shanchu",title:"Remove",callback(t){"all"===ne&&(t=null===p||void 0===p?void 0:p.list.map((e=>e.sid))),"recently used"==e.title?"number"===typeof t?(Object(H["a"])([null===p||void 0===p?void 0:p.list[t].sid]),e.reloadTable(),j["default"].success("Record Remove Success")):"object"===typeof t&&(Object(H["a"])(t),e.reloadTable(),z([]),j["default"].success("Record Remove Success")):"number"===typeof t?(e.setClickItem({listData:null===p||void 0===p?void 0:p.list[t],folderName:null===p||void 0===p?void 0:p.folderName,isOnly:!0}),e.setDeleteModal(!0)):"object"===typeof t&&(e.setClickItem({listData:t,folderName:null===p||void 0===p?void 0:p.folderName,isOnly:!1}),e.setDeleteModal(!0))}}];function r(t,a){var n=a||(null===p||void 0===p?void 0:p.list[t]);we(Object(y["jsx"])(ue,{item:n,title:e.title,setCheckRender:we}))}function d(t){"object"===typeof t&&(null===p||void 0===p||p.list.map(((e,a)=>{e.sid==t[0]&&(t=a)}))),e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open"}});var a=null===p||void 0===p?void 0:p.list[t],n=a.cid,i=Object(U["a"])(n,a.file_name);if(a){var c=a.file_name,s=null===p||void 0===p?void 0:p.list[t];e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:0,fileName:s.file_name,filesize:s.file_size,type:"Parsing"}}}),console.log(i),X()({method:"get",url:i,responseType:"blob",headers:{"content-type":a.file_type},onDownloadProgress:t=>{e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:t.loaded/t.total*100,fileName:s.file_name,filesize:s.file_size,type:"Downloading"}}})}}).then((t=>{var n=new Blob([t.data],{type:t.data.type}),i=document.createElement("a"),l=window.URL.createObjectURL(n);i.href=l,i.download=c,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l),Object(H["c"])(a),Q(t.data.size),e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:s.file_name,filesize:s.file_size,type:"Success"}}})})).catch((t=>{e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:s.file_name,filesize:s.file_size,type:"Error"}}})}))}}Object(o["useEffect"])((()=>{e.setShowCheck((()=>r))}),[]);var b=Object(o["useRef"])(null),u=Object(M["a"])((e=>w(null===e||void 0===e?void 0:e.nextPage)),{target:b,isNoMore(e){return!1===(null===e||void 0===e?void 0:e.next)}}),p=u.data,h=u.loading,m=(u.loadMore,u.loadingMore),g=u.noMore,k=u.reload;function w(){return N.apply(this,arguments)}function N(){return N=Object(v["a"])(f.a.mark((function t(){var a,n,i,c=arguments;return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:0,s(!0),n=[],i=!1,t.prev=4,t.next=7,e.getList(a);case 7:return n=t.sent,n=ve(n),console.log(n),t.next=12,Promise.all(n.map(function(){var e=Object(v["a"])(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].status(t.cid);case 2:a=e.sent,console.log(a.pins),a.pins.some((e=>"Pinning"==e.status))?t.pinStatus="Pinning":a.pins.some((e=>"Pinned"==e.status))?t.pinStatus="Pinned":t.pinStatus="PinQueued",n=[],0!=a.deals.length?a.deals.forEach((e=>{n.push(e)})):n.push("Queuing"),t.storageProviders=n;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:if(t.sent,"recently used"!==e.title){t.next=15;break}throw Error;case 15:if("newFloder"!==e.floderType){t.next=17;break}throw Error;case 17:n.length&&(a+=1,i=!0),s(!1),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](4),s(!1),console.warn(t.t0);case 25:return t.abrupt("return",{list:n,nextPage:a,next:i});case 26:case"end":return t.stop()}}),t,null,[[4,21]])}))),N.apply(this,arguments)}Object(o["useEffect"])((()=>{e.setReloadTable((()=>()=>{ie("no"),z([]),K([]),k()}))}),[k]);var S=Object(o["useState"])([]),B=Object(c["a"])(S,2),C=B[0],z=B[1],R=Object(o["useState"])([]),P=Object(c["a"])(R,2),A=P[0],K=P[1],V=e=>{var t=C.concat();t[e]=!t[e];var a=[];for(var n in t)a.push(null===p||void 0===p?void 0:p.list[n].sid);K(a),z(t)};Object(o["useEffect"])((()=>{var t,a,n=C.filter((e=>e));n.length===(null===p||void 0===p||null===(t=p.list)||void 0===t?void 0:t.length)&&ie("all"),n.length<((null===p||void 0===p||null===(a=p.list)||void 0===a?void 0:a.length)||0)&&ie("some"),0===n.length&&ie("no"),e.dispatch({type:"menu/save",state:{audioList:null===p||void 0===p?void 0:p.list}})}),[p,C]);var q=Object(L["a"])({}),W=Object(c["a"])(q,2),J=W[0],Z=W[1];Object(o["useEffect"])((()=>{e.headerList.map((e=>{e.sort&&Z({[e.key]:0})}))}),[e.headerList]);var Y=e=>{if(e){var t=Math.floor(e/1044*100);return{minWidth:t+"%"}}return{flex:1}},$=()=>e.headerList.map((e=>{var t=e.align||"left",a=()=>{var t="";return e.sort&&(t+="pointer"),t},n=()=>{if(e.sort){var t=()=>{var t=J[e.key];return 0===t?"":1===t?I.a.top:2===t?I.a.bottom:void 0};return Object(y["jsxs"])("div",{className:"".concat(I.a.sort," ").concat(t()),children:[Object(y["jsx"])(_["a"],{type:"icon-shang",className:I.a.top}),Object(y["jsx"])(_["a"],{type:"icon-xia",className:I.a.bottom})]})}};return Object(y["jsxs"])("div",{className:a(),style:Object(i["a"])(Object(i["a"])({},Y(e.width)),{},{textAlign:t}),onClick:()=>ee(e),children:[e.title,n()]},e.key)}));function ee(e){e.sort&&Z((t=>({[e.key]:(t[e.key]+1)%3})))}var te=Object(o["useState"])("no"),ae=Object(c["a"])(te,2),ne=ae[0],ie=ae[1],ce=()=>{var e=!1,t=!1;return"some"===ne&&(e=!0),"all"===ne&&(t=!0),Object(y["jsx"])(T["a"],{onChange:se,indeterminate:e,checked:t})};function se(){var e,t;"all"===ne?z(new Array(null===p||void 0===p||null===(e=p.list)||void 0===e?void 0:e.length).fill(!1)):z(new Array(null===p||void 0===p||null===(t=p.list)||void 0===t?void 0:t.length).fill(!0))}var le=Object(o["useState"])({index:-1,status:""}),re=Object(c["a"])(le,2),oe=re[0],de=re[1],be=Object(o["useState"])(-1),pe=Object(c["a"])(be,2),fe=pe[0],he=pe[1],me=()=>{var t;if(0==(null===p||void 0===p?void 0:p.list.length))return!1;var a=e=>(console.log(e),Object(y["jsx"])("div",{children:Object(y["jsx"])("ul",{children:e.map(((e,t)=>Object(y["jsxs"])("li",{children:[Object(y["jsx"])("a",{href:"https://filfox.info/en/deal/".concat(e.dealId),children:e.storageProvider}),Object(y["jsxs"])("span",{children:["  ",e.status]})]},t)))})}));return null===p||void 0===p||null===(t=p.list)||void 0===t?void 0:t.map(((t,n)=>{var c=t=>{var c=()=>{var e=null;return e=Object(y["jsx"])("div",{className:"".concat(I.a.nameBox," pointer ").concat(I.a.nowrap),onClick:()=>de(Object(i["a"])(Object(i["a"])({},oe),{},{index:n})),children:Object(y["jsx"])(D["a"],{placement:"topLeft",content:t.file_name,children:t.file_name})}),e},s=()=>{var e=e=>{he(-1),e.callback&&e.callback(n)},t=l.map(((t,a)=>Object(y["jsx"])("div",{onClick:()=>e(t),children:Object(y["jsx"])(x["a"],{borderAnimation:!0,radius:4,defaultBorder:!1,background:"#33373f",children:Object(y["jsxs"])("div",{className:I.a.line,children:[Object(y["jsx"])(_["a"],{type:t.icon,size:16}),Object(y["jsx"])("div",{className:I.a.title,children:t.title})]})})},a)));return Object(y["jsx"])("div",{className:I.a.setBox,children:t})};return e.headerList.map((e=>{var l=e.align||"left",r=t[e.key];return"name"===e.key&&(r=Object(y["jsxs"])("div",{className:"df aic",children:[Object(y["jsx"])(_["a"],{type:t.icon,size:20}),c()]})),"set"===e.key&&(r=Object(y["jsx"])(D["a"],{content:s(),trigger:"click",overlayClassName:"tableSetPopover",placement:"bottomRight",visible:fe===n,onVisibleChange:e=>{he(e?n:-1)},children:Object(y["jsx"])("div",{children:Object(y["jsx"])(_["a"],{type:"icon-gengduo",size:32,className:"".concat(I.a.setIcon," pointer")})})})),"file_size"===e.key&&(r=Object(y["jsx"])("span",{children:Object(F["b"])(t[e.key],2)})),"storageProviders"==e.key&&(r="string"!=typeof t[e.key][0]?Object(y["jsx"])(D["a"],{content:a(t[e.key]),children:Object(y["jsx"])("div",{style:{color:"#00b8c4"},children:"Details"})}):Object(y["jsx"])("div",{children:t[e.key][0]})),"created"===e.key&&(r=Object(y["jsx"])("span",{children:Object(F["a"])(t[e.key])})),"cid"===e.key&&(r=Object(y["jsx"])(D["a"],{content:t[e.key],children:Object(y["jsx"])("div",{className:I.a.keyBox,onClick:()=>_e(n),children:t[e.key]})})),Object(y["jsx"])("div",{style:Object(i["a"])(Object(i["a"])({},Y(e.width)),{},{textAlign:l}),className:"df",children:r},e.key)}))};return Object(y["jsx"])("div",{className:"".concat(I.a.tableListBox," tableListBox"),onDoubleClick:()=>{Object(H["c"])(t),console.log(t),"music"!==t.file_folder[0]&&(console.log(Object(U["a"])(t.cid,t.file_name)),e.setPreviewState({previewURL:Object(U["a"])(t.cid,t.file_name),isPreview:!0,previewType:"",fileType:t.file_type})),e.audioActiveIndex===n?(e.dispatch({type:"menu/save",state:{audioActiveIndex:-1}}),setTimeout((()=>{e.dispatch({type:"menu/save",state:{audioActiveIndex:n}})}),300)):e.dispatch({type:"menu/save",state:{audioActiveIndex:n}})},children:Object(y["jsx"])(x["a"],{borderAnimation:!0,fileType:t.file_folder,fileCid:t.sid,inline:!1,children:Object(y["jsxs"])("div",{className:I.a.tableList,children:[Object(y["jsx"])("div",{className:I.a.checkedBox,children:Object(y["jsx"])(T["a"],{onChange:()=>V(n),checked:C[n]})}),c(t)]})})},n)}))};function _e(e){r(e)}function xe(e){if(void 0!==e)de(Object(i["a"])(Object(i["a"])({},oe),{},{index:e}));else{var t=C.filter((e=>e));if(1===t.length){var a=C.findIndex((e=>e));de(Object(i["a"])(Object(i["a"])({},oe),{},{index:a}))}}}function Oe(){return g?(null===p||void 0===p?void 0:p.nextPage)>1?"---No More---":"":m?"Loading...":void 0}var ge=Object(o["useState"])(),ye=Object(c["a"])(ge,2),ke=ye[0],we=ye[1];function Ne(){return ke||(null!==p&&void 0!==p&&p.nextPage||null!==p&&void 0!==p&&p.list.length||n?n?Object(y["jsx"])(je["a"],{}):Object(y["jsxs"])(y["Fragment"],{children:[Object(y["jsxs"])("div",{className:I.a.TableBox,children:[Object(y["jsxs"])("div",{className:I.a.header,children:[Object(y["jsx"])("div",{className:I.a.checkedBox,children:ce()}),$()]}),Object(y["jsx"])("div",{className:I.a.content,ref:b,children:h?Object(y["jsx"])("div",{className:"df jcc",style:{opacity:"0.1"},children:"loading"}):Object(y["jsxs"])(y["Fragment"],{children:[me(),Object(y["jsx"])("div",{className:"df jcc",style:{opacity:"0.1"},children:Oe()})]})})]}),Object(y["jsx"])(E,{allChecked:ne,tableCheckedList:C,setList:l,checkindex:A})]}):Object(y["jsx"])(G["a"],{image:e.noDataImage,title:e.noData}))}return Ne()});function fe(e){var t=e.globalTop.token,a=e.menu.audioActiveIndex;return{token:t,audioActiveIndex:a}}var he=Object(r["c"])(fe)(pe),me=a("9cNf"),_e=a.n(me),xe=a("P5Jw"),Oe=e=>{var t="SHARE",a=()=>{e.setShareModal(!1)};return Object(y["jsx"])(n["a"],{title:t,visible:e.shareModal,footer:!1,onCancel:a,centered:!0,zIndex:1031,children:Object(y["jsxs"])("div",{className:_e.a.ShareBox,children:[Object(y["jsx"])("div",{className:_e.a.title,children:"Share link has been generated"}),Object(y["jsxs"])("div",{className:_e.a.inputBox,children:[Object(y["jsx"])(x["a"],{radius:4,borderAnimation:!1,children:Object(y["jsx"])("div",{className:_e.a.input,children:e.shareUrl})}),Object(y["jsx"])(xe["CopyToClipboard"],{text:e.shareUrl,children:Object(y["jsx"])("div",{className:_e.a.copy,children:"Copy"})})]})]})})};function ge(e){var t=e.globalTop.token;return{token:t}}var ye=Object(r["c"])(ge)(Oe),ke=a("R8ux"),we=e=>{var t=Object(o["useState"])(!1),a=Object(c["a"])(t,2),i=a[0],s=a[1],l=O["b"].contract,r=e.clickItem,d="Delete",b=()=>{e.setDeleteModal(!1)},u=function(){var t=Object(v["a"])(f.a.mark((function t(){return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(r),s(!0),!r.isOnly){t.next=17;break}if(!r.listData.cid||r.folderName){t.next=10;break}return t.next=6,l.file_delete({cid:r.listData.cid});case 6:e.reloadTable(),e.setDeleteModal(!1),t.next=15;break;case 10:if(!r.listData.cid||!r.folderName){t.next=15;break}return t.next=13,l.file_delete_in_folder({cid:r.listData.cid,folder:r.folderName});case 13:e.reloadTable(),e.setDeleteModal(!1);case 15:t.next=41;break;case 17:if(!r.listData||r.folderName){t.next=30;break}return t.prev=18,t.next=21,l.files_delete({sids:r.listData},ke["c"]);case 21:e.reloadTable(),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](18),j["default"].error("Error");case 27:e.setDeleteModal(!1),t.next=41;break;case 30:if(!r.listData||!r.folderName){t.next=41;break}return t.prev=31,t.next=34,l.files_delete_in_folder({sids:r.listData,folder:r.folderName});case 34:e.reloadTable(),t.next=40;break;case 37:t.prev=37,t.t1=t["catch"](31),j["default"].error("Error");case 40:e.setDeleteModal(!1);case 41:s(!1);case 42:case"end":return t.stop()}}),t,null,[[18,24],[31,37]])})));return function(){return t.apply(this,arguments)}}();return Object(y["jsx"])(n["a"],{title:d,visible:e.deleteModal,confirmLoading:i,onCancel:b,onOk:u,centered:!0,zIndex:1031,children:"Are you sure to delete this file (folder)?"})};function Ne(e){var t=e.globalTop.token;return{token:t}}var Se=Object(r["c"])(Ne)(we),Be=a("PWKf"),De=a.n(Be),Te=e=>{var t=O["b"].contract,a=O["b"].getID,i=(O["b"].getlist,"copy"===e.type?"\u590d\u5236\u5230":"\u79fb\u52a8\u5230"),s=Object(o["useState"])(!1),l=Object(c["a"])(s,2),r=(l[0],l[1],Object(o["useState"])([{icon:"",title:""}])),d=Object(c["a"])(r,2),b=d[0],u=d[1],j=Object(o["useState"])(!1),p=Object(c["a"])(j,2),h=p[0],m=p[1],x=function(){var e=Object(v["a"])(f.a.mark((function e(){var n,i,c;return f.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,t.view_account({did:"did:near:".concat(a)});case 3:for(c in e.t1=e.sent,n=e.t0.parse.call(e.t0,e.t1),i=[],n.file_folders)"picture"===n.file_folders[c]||"music"===n.file_folders[c]||"video"===n.file_folders[c]||"document"===n.file_folders[c]||"other"===n.file_folders[c]||i.push({title:n.file_folders[c],icon:"icon-wenjian"});return e.abrupt("return",[...i]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o["useEffect"])((()=>{Object(v["a"])(f.a.mark((function e(){return f.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,x();case 3:e.t1=e.sent,e.t2=[...e.t1],(0,e.t0)(e.t2);case 6:case"end":return e.stop()}}),e)})))()}),[]);var g=function(){var a=Object(v["a"])(f.a.mark((function a(n){return f.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(m(!0),"copy"!==e.type){a.next=7;break}return a.next=4,t.file_copy_to_folder({sid:e.checkData.sid,folder:n});case 4:a.sent,a.next=11;break;case 7:if("move"!==e.type){a.next=11;break}return a.next=10,t.file_copy_to_folder({sid:e.checkData.sid,folder:n});case 10:a.sent;case 11:m(!1),k();case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),k=function(){var t=Object(v["a"])(f.a.mark((function t(){return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setSelectListModal(!1);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y["jsx"])(n["a"],{title:i,visible:e.selectListModal,confirmLoading:h,onCancel:k,centered:!0,zIndex:1031,children:0!==b.length&&Object(y["jsxs"])("div",{className:De.a.SelectListBox,children:[b.map(((e,t)=>Object(y["jsxs"])("div",{className:"".concat(De.a.box),onClick:()=>g(e.title),children:[Object(y["jsx"])(_["a"],{type:e.icon,size:20}),Object(y["jsx"])("div",{className:De.a.title,children:e.title})]},t))),0===b.length&&Object(y["jsx"])("div",{children:"\u5f53\u524d\u6ca1\u6709\u6587\u4ef6\u5939"})]})})};function Ce(e){var t=e.globalTop.token;return{token:t}}var Ie=Object(r["c"])(Ce)(Te),Me=(a("mHj4"),e=>{var t=Object(o["useState"])([{key:"name",title:"Name"},{key:"cid",title:"CID",width:300},{key:"pinStatus",title:"Pin Status",width:100},{key:"file_size",title:"Size",width:100},{key:"created",title:"Timestamp",width:130},{key:"storageProviders",title:"Storage Providers",width:100},{key:"set",title:"",width:70}]),a=Object(c["a"])(t,2),s=a[0],r=(a[1],Object(o["useState"])(!1)),d=Object(c["a"])(r,2),b=d[0],u=d[1],j=Object(o["useState"])(!1),v=Object(c["a"])(j,2),p=v[0],f=v[1],h=Object(o["useState"])("copy"),m=Object(c["a"])(h,2),_=m[0],x=m[1],O=Object(o["useState"])(!1),g=Object(c["a"])(O,2),k=g[0],w=g[1],N=Object(o["useState"])(),S=Object(c["a"])(N,2),D=(S[0],S[1]),T=Object(o["useState"])(null),C=Object(c["a"])(T,2),I=C[0],M=C[1],L=Object(o["useState"])(null),z=Object(c["a"])(L,2),R=z[0],P=z[1],A=Object(o["useState"])(!1),E=Object(c["a"])(A,2),F=(E[0],E[1]),U=Object(o["useState"])(""),H=Object(c["a"])(U,2),K=H[0],V=H[1],q=Object(o["useState"])(1),Q=Object(c["a"])(q,2),W=(Q[0],Q[1],Object(o["useState"])((()=>()=>{}))),X=Object(c["a"])(W,2),G=X[0],J=X[1],Z=(Object(o["useRef"])(null),Object(o["useState"])({previewURL:"",isPreview:!1,previewType:"",fileType:""})),Y=Object(c["a"])(Z,2),$=Y[0],ee=Y[1];Object(o["useImperativeHandle"])(e.onRef,(()=>({reloadTable:G})));var te=Object(o["useState"])(),ae=Object(c["a"])(te,2),ne=ae[0],ie=ae[1];return Object(y["jsxs"])("div",{className:l.a.FileTable,children:[Object(y["jsx"])(B,{setFileModelDisplay:F,setFileDownloadStatus:D,title:e.title,reloadTable:G,floderType:e.floderType}),Object(y["jsxs"])("div",{className:l.a.tableCardBox,children:[Object(y["jsx"])("div",{className:l.a.title,children:e.title}),e.tableAfterContent&&e.tableAfterContent(ne),Object(y["jsx"])(he,{setShowCheck:ie,setFileModelDisplay:F,setFileDownloadStatus:D,setCheckData:P,title:e.title,floderType:e.floderType,headerList:s,getList:e.getList,setShareModal:u,setDeleteModal:f,setClickItem:M,setSelectListType:x,setSelectListModal:w,setReloadTable:J,noData:e.noData,reloadTable:G,noDataImage:e.noDataImage,setShareUrl:V,setPreviewState:ee})]}),Object(y["jsx"])(ye,{shareUrl:K,shareModal:b,setShareModal:u}),Object(y["jsx"])(Se,{deleteModal:p,clickItem:I,setDeleteModal:f,reloadTable:G}),Object(y["jsx"])(Ie,{type:_,selectListModal:k,checkData:R,setSelectListModal:w}),Object(y["jsx"])("div",{className:"previewContent",children:Object(y["jsx"])(n["a"],{visible:$.isPreview,footer:null,className:"previewContent",width:"image"===$.previewType?"520px":"80%",onCancel:()=>ee(Object(i["a"])(Object(i["a"])({},$),{},{isPreview:!1})),style:{backgroundColor:"rgba(0,0,0,0)"},children:Object(y["jsx"])("div",{className:l.a.previewBox,style:{textAlign:"center"},children:Object(y["jsx"])("embed",{src:$.previewURL,style:{color:"#fff",backgroundColor:"#f1f1f1"},type:$.fileType,color:"#fff",width:"800",height:"800"})})})})]})});function Le(e){var t=e.globalTop.token;return{token:t}}t["a"]=Object(r["c"])(Le)(Me)},LhIy:function(e,t,a){e.exports={Card:"Card___1dkUe",card:"Card___1dkUe",bg1:"bg1___24BOV",bg2:"bg2___UzlPQ",defaultBorder:"defaultBorder___1_YUD",borderAnimation:"borderAnimation___1YmcH",bg2Animation:"bg2Animation___279zQ"}},Ns3m:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=e=>{var t=e.toString().substring(0,13),a=new Date(Number(t)),n=a.getFullYear(),i=(a.getMonth()+1).toString().padStart(2,"0"),c=a.getDate().toString().padStart(2,"0"),s=a.getHours().toString().padStart(2,"0"),l=a.getMinutes().toString().padStart(2,"0"),r=a.getSeconds().toString().padStart(2,"0");return"".concat(n,"-").concat(i,"-").concat(c," ").concat(s,":").concat(l,":").concat(r)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0==e)return"0 B";var a=1024,n=t||2,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,c)).toFixed(n))+" "+i[c]}},ODOT:function(e,t,a){"use strict";var n=a("SOgc"),i=a.n(n),c=a("/MKj"),s=a("nKUr"),l=e=>Object(s["jsxs"])("div",{className:i.a.noData,children:[Object(s["jsx"])("div",{className:i.a.image,style:{backgroundImage:"url(".concat(e.image||a("9PCQ"),")")}}),Object(s["jsx"])("div",{children:e.title||"\u6682\u65e0\u6587\u4ef6"})]});function r(e){var t=e.globalTop.token;return{token:t}}var o=Object(c["c"])(r)(l);t["a"]=o},P6Xv:function(e,t,a){e.exports={FileTable:"FileTable___32DeQ",fileTable:"FileTable___32DeQ",tableCardBox:"tableCardBox___3DtSz",title:"title___3HWSd",previewBox:"previewBox___2s4XA","ant-modal-wrap":"ant-modal-wrap___2mgI0",antModalWrap:"ant-modal-wrap___2mgI0","ant-modal-content":"ant-modal-content___1VVh9",antModalContent:"ant-modal-content___1VVh9"}},PWKf:function(e,t,a){e.exports={SelectListBox:"SelectListBox___gqeNs",selectListBox:"SelectListBox___gqeNs",box:"box___36UWR",title:"title___229dL"}},SOgc:function(e,t,a){e.exports={noData:"noData___1C8Nx",image:"image___3wLPh"}},UTfn:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return r}));var n=a("2LCi"),i=n["b"].getID,c=i,s=e=>{var t=[];localStorage.getItem("".concat(c,"_recentlyFiles"))&&(t=JSON.parse(localStorage.getItem("".concat(c,"_recentlyFiles"))||""));var a=0,n=t.some(((t,n)=>(t.sid===e.sid&&(a=n),t.sid===e.sid)));n?t.unshift(t.splice(a,1)[0]):t.unshift(e),t.length>10&&t.splice(10),localStorage.setItem("".concat(c,"_recentlyFiles"),JSON.stringify(t))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=JSON.parse(localStorage.getItem("".concat(c,"_recentlyFiles"))||"[]");return t.splice(e),t},r=e=>{var t=JSON.parse(localStorage.getItem("".concat(c,"_recentlyFiles"))||"[]"),a=function(a){t.some(((n,i)=>{n.sid===e[a]&&t.splice(i,1)}))};for(var n in e)a(n);console.log(t),localStorage.setItem("".concat(c,"_recentlyFiles"),JSON.stringify(t))}},ZmDx:function(e,t,a){e.exports={card:"card___1H9KL",ImportButton:"ImportButton___3wovt",importButton:"ImportButton___3wovt",bg:"bg___RGVgN",addIconBox:"addIconBox___1jdvt",title:"title___3BeV-",displayNone:"displayNone___6ENxD"}},bIAK:function(e,t,a){"use strict";var n=a("9Eo+"),i=a.n(n),c=a("nKUr"),s=e=>Object(c["jsx"])("div",{className:i.a.loadingBox,children:Object(c["jsxs"])("div",{className:i.a.loader,children:[Object(c["jsxs"])("div",{className:i.a.row,children:[Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{})]}),Object(c["jsxs"])("div",{className:i.a.row,children:[Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{})]}),Object(c["jsxs"])("div",{className:i.a.row,children:[Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{})]})]})});t["a"]=s},cEo8:function(e,t,a){e.exports={ActionHeader:"ActionHeader___mfRla",actionHeader:"ActionHeader___mfRla",searchBox:"searchBox___17RA6"}},jnMK:function(e,t,a){"use strict";var n=a("k1fw"),i=a("LhIy"),c=a.n(i),s=a("nKUr"),l=e=>{e=Object(n["a"])({inline:!0,radius:8,defaultBorder:!0,background:"rgb(38, 41, 45)",borderAnimation:!1},e);var t="".concat(c.a.Card," ").concat(e.borderAnimation?c.a.borderAnimation:""),a={borderRadius:e.radius+"px",display:e.inline?"inline-block":"block"};e.boxShadow&&(a.boxShadow=e.boxShadow);var i={borderRadius:e.radius+"px",background:e.background},l={borderRadius:e.radius+"px"};return Object(s["jsxs"])("div",{className:t,style:a,children:[Object(s["jsx"])("div",{className:"".concat(c.a.bg1," ").concat(e.className||""),style:i}),Object(s["jsx"])("div",{className:"".concat(c.a.bg2," ").concat(e.defaultBorder?c.a.defaultBorder:""),style:l}),e.children]})};t["a"]=l},lfel:function(e,t,a){"use strict";var n=a("nKUr"),i=e=>Object(n["jsx"])("div",{style:{width:e.width+"px",height:e.height+"px"}});t["a"]=i},mHj4:function(e,t,a){},qmVF:function(e,t,a){e.exports={TableBox:"TableBox___2qmXd",tableBox:"TableBox___2qmXd",header:"header___7Ov0w",checkedBox:"checkedBox___3BfNr",sort:"sort___2wsdz",top:"top___trrjj",bottom:"bottom___1pEKk",content:"content___12nxE",tableListBox:"tableListBox___1Pzdk",setIcon:"setIcon___2zarF",tableList:"tableList___2wz6O",nameBox:"nameBox___3LLkv",keyBox:"keyBox___11u03",nowrap:"nowrap___9N2pQ",fileSetBottomRender:"fileSetBottomRender___3PRN4",box:"box___2GbUH",disabled:"disabled___3ae4n",innerBox:"innerBox___38IJ4",card:"card___2Ivo4",title:"title___d8IEV",setBox:"setBox___2iyIL",line:"line___1EvBp",container:"container___2Uu5z",loader:"loader___1P_QQ",loaderDot:"loaderDot___3bPCC"}},snPH:function(e,t,a){e.exports={check:"check___I4u2R",header:"header___1FbkI",parent:"parent___2FKEb",now:"now___3OyRE",circle:"circle___f8WB2",contentBox:"contentBox___35zOV",bigTitle:"bigTitle___2cG4i",card:"card___3h6du",slice:"slice___1L8dt",line:"line___3ZKAv",lineTitle:"lineTitle___8i-En",value:"value___18Gbv",wordWrap:"wordWrap___2axDZ"}},wb4B:function(e,t,a){e.exports={FileSetBottomRender:"FileSetBottomRender___2jVP1",fileSetBottomRender:"FileSetBottomRender___2jVP1",box:"box___3T-yh",disabled:"disabled___GUztX",innerBox:"innerBox___3esmy",card:"card___1MlHo",title:"title___1jUZb"}}}]);