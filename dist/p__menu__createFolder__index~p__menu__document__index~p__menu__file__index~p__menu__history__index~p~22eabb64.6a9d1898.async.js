(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"4ANX":function(e,t,a){"use strict";var n=a("R+Pm"),c=a("nKUr"),i=e=>{var t=Object(n["a"])({scriptUrl:"//at.alicdn.com/t/font_2995112_xnwhmzjjir.js"});return Object(c["jsx"])(t,{className:e.className,type:e.type,style:{fontSize:e.size+"px",color:e.color}})};t["a"]=i},6:function(e,t){},7:function(e,t){},"9Eo+":function(e,t,a){e.exports={loader:"loader___1xqSB",row:"row___1mQXy",flicker:"flicker___1kHpo"}},"9PCQ":function(e,t,a){e.exports=a.p+"static/noData.0598ba57.png"},"9cNf":function(e,t,a){e.exports={ShareBox:"ShareBox___2r_Kz",shareBox:"ShareBox___2r_Kz",title:"title___1Ldne",inputBox:"inputBox___1bXNt",input:"input___3SdK1",copy:"copy___Wvmyi",load:"load___1cu7u",move:"move___1xgUd"}},FQJK:function(e,t,a){"use strict";a("2qtc");var n=a("kLXV"),c=a("k1fw"),i=a("tJVT"),r=a("P6Xv"),o=a.n(r),s=a("/MKj"),l=a("q1tI"),d=a("cEo8"),b=a.n(d),u=(a("qVdP"),a("jsC+")),j=(a("+L6B"),a("2/Rp")),p=(a("lUTK"),a("BvKs")),f=(a("miYZ"),a("tsqr")),_=a("9og8"),v=a("WmNS"),x=a.n(v),m=a("ZmDx"),h=a.n(m),O=a("4ANX"),g=a("jnMK"),k=a("9kvl"),y=a("4BIQ"),w=a("+nDH"),S=a("2LCi"),N=a("+wji"),B=e=>{var t=e.substring(e.lastIndexOf(".")+1),a="";switch(t){case"png":case"jpg":case"jpeg":case"bmp":case"gif":case"webp":case"psd":case"svg":case"tiff":a="picture";break;case"cda":case"wav":case"mp3":case"wmv":case"flac":case"aac":a="music";break;case"mp4":case"avi":case"mov":case"rmvb":case"rm":case"flv":case"3gp":a="video";break;case"txt":case"xls":case"xlsx":case"doc":case"docx":case"ppt":case"pptx":case"pdf":case"md":a="document";break;default:a="other";break}return a},D=a("nKUr"),I=e=>{var t=Object(l["useState"])(!1),a=Object(i["a"])(t,2),n=a[0],r=(a[1],Object(l["useState"])(0)),o=Object(i["a"])(r,2),s=o[0],d=o[1],b=Object(l["useState"])(!1),v=Object(i["a"])(b,2),m=(v[0],v[1],Object(l["useState"])(!1)),I=Object(i["a"])(m,2),M=(I[0],I[1],Object(l["useState"])({node_name:"",custom_node:""})),L=Object(i["a"])(M,2),C=L[0],T=L[1];Object(l["useEffect"])((()=>{Object(_["a"])(x.a.mark((function e(){var t;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,P.view_account({did:"did:near:".concat(R)});case 3:e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),T({node_name:t.account.account_custom_node_name,custom_node:t.account.account_custom_node});case 6:case"end":return e.stop()}}),e)})))()}),[]);var z,P=S["b"].contract,R=S["b"].getID,F=function(){var t=Object(_["a"])(x.a.mark((function t(a){var i,r,o,l,d,b,u,j,p,_;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(a),i=z.files,r=t=>{e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open",fileDownloadStatus:{progress:t/i[0].size*100,fileName:i[0].name,filesize:i[0].size,type:"Parsing"}}})},0!==i.length){t.next=6;break}return f["default"].warning("Select File To Upload!"),t.abrupt("return");case 6:if(!n){t.next=8;break}return t.abrupt("return");case 8:if(t.prev=8,e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open",fileDownloadStatus:{progress:0,fileName:i[0].name,filesize:i[0].size,type:"Parsing"}}}),o="",l=0,0!=s){t.next=20;break}return t.next=15,S["a"].put(i,{onStoredChunk:r});case 15:o=t.sent,console.log(o),l=0,t.next=38;break;case 20:if(1!=s){t.next=30;break}return d=Object(N["create"])({url:w["b"]}),new y["a"](w["a"]),t.next=25,d.add({content:i[0]});case 25:b=t.sent,o=b.cid.toString(),l=1,t.next=38;break;case 30:if(2!=s){t.next=38;break}return u=Object(N["create"])({url:C.custom_node}),new y["a"](w["a"]),t.next=35,u.add({content:i[0]});case 35:j=t.sent,o=j.cid.toString(),l=2;case 38:return p=[],p="newFloder"===e.floderType?[B(i[0].name),e.title]:[B(i[0].name)],_={cid:o,file_name:i[0].name,file_size:i[0].size,file_type:i[0].type,file_owner_folder:p,network_id:l},e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open"}}),t.next=44,P.store(_);case 44:e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:i[0].name,filesize:i[0].size,type:"Success",initObj:Object(c["a"])(Object(c["a"])({},_),{},{created:(new Date).getTime()+"000000"})}}}),e.reloadTable(),t.next=53;break;case 48:t.prev=48,t.t0=t["catch"](8),console.log(t.t0),"filesRepetition"==t.t0.Error?f["default"].warning("Files exist on the blockchain,Do Not Upload Again!"):f["default"].error("Error"),e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:i[0].name,filesize:i[0].size,initObj:null,type:"Error"}}});case 53:case"end":return t.stop()}}),t,null,[[8,48]])})));return function(e){return t.apply(this,arguments)}}(),A=Object(D["jsxs"])(p["a"],{children:[Object(D["jsx"])(p["a"].Item,{onClick:()=>{d(0),z.click()},children:"SD-Cloud Node"}),Object(D["jsx"])(p["a"].Item,{onClick:()=>{d(1),z.click()},children:"IPFS Node"}),""!==C.custom_node&&Object(D["jsx"])(p["a"].Item,{onClick:()=>{d(2),z.click()},children:C.node_name}),Object(D["jsxs"])(p["a"].Item,{onClick:()=>k["b"].push("customNode"),children:["Custom node"," ",Object(D["jsx"])(O["a"],{type:"icon-daoruwenjian1",size:16,color:"rgba(255, 255, 255, 0.8)"})]})]});return Object(D["jsxs"])(g["a"],{borderAnimation:!0,className:h.a.card,background:"linear-gradient(178deg, rgb(22, 23, 25) 0%, rgb(32, 38, 42) 100%)",defaultBorder:!1,children:[Object(D["jsx"])(u["a"],{overlay:A,placement:"bottomLeft",trigger:["click"],children:Object(D["jsxs"])(j["a"],{children:[Object(D["jsx"])(O["a"],{type:"icon-daoruwenjian1",size:16,color:"rgba(255, 255, 255, 0.8)"}),"UPload"]})}),Object(D["jsx"])("input",{type:"file",onChange:F,className:h.a.displayNone,ref:e=>{z=e}})]})};function M(e){var t=e.globalTop.token;return{token:t}}var L=Object(s["c"])(M)(I),C=e=>Object(D["jsx"])("div",{className:"".concat(b.a.ActionHeader," ActionHeader"),children:Object(D["jsx"])(L,{floderType:e.floderType,setFileModelDisplay:e.setFileModelDisplay,setFileDownloadStatus:e.setFileDownloadStatus,title:e.title,reloadTable:e.reloadTable})}),T=C,z=(a("Q9mQ"),a("diRs")),P=(a("sRBo"),a("kaz8")),R=a("qmVF"),F=a.n(R),A=a("VmGg"),U=a("rZqG"),E=a("wb4B"),K=a.n(E),H=e=>{if("no"===e.allChecked)return Object(D["jsx"])(D["Fragment"],{});var t,a=e.tableCheckedList.filter((e=>e));function n(t){t.callback&&t.callback(e.checkindex)}a.length>1&&(t=["download","rename","check","copy","move"]);var c=e.setList.map(((e,a)=>{var c=t&&t.includes(e.key);return Object(D["jsx"])("div",{className:"".concat(K.a.box," ").concat(c?K.a.disabled:""),onClick:()=>!c&&n(e),children:Object(D["jsx"])(g["a"],{borderAnimation:!c,defaultBorder:!1,background:"linear-gradient(135deg, rgb(33, 35, 40), rgba(45, 48, 55, 1))",children:Object(D["jsxs"])("div",{className:K.a.innerBox,children:[Object(D["jsx"])(O["a"],{type:e.icon,size:24}),Object(D["jsx"])("div",{className:K.a.title,children:e.title})]},a)})},a)}));return Object(D["jsx"])("div",{className:"".concat(K.a.FileSetBottomRender," animate__animated animate__fadeInUp animate__faster"),children:c})};function V(e){var t=e.globalTop.token;return{token:t}}var Q=Object(s["c"])(V)(H),J=a("Ns3m"),q=a("SLhE"),X=a("UTfn"),W=S["b"].getID,Z=W,G="".concat(Z,"_uploadFiles"),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number(localStorage.getItem(G))||0;t+=e,localStorage.setItem(G,t.toString())},$=a("vDqi"),ee=a.n($),te=a("SOgc"),ae=a.n(te),ne=e=>Object(D["jsxs"])("div",{className:ae.a.noData,children:[Object(D["jsx"])("div",{className:ae.a.image,style:{backgroundImage:"url(".concat(e.image||a("9PCQ"),")")}}),Object(D["jsx"])("div",{children:e.title||"None"})]});function ce(e){var t=e.globalTop.token;return{token:t}}var ie=Object(s["c"])(ce)(ne),re=ie,oe=a("bIAK"),se=S["b"].getlist,le=S["b"].contract,de=S["b"].getID,be=e=>{var t=Object(l["useState"])(!1),a=Object(i["a"])(t,2),n=a[0],r=a[1],o=Object(l["useState"])(""),s=Object(i["a"])(o,2),d=s[0],b=s[1];Object(l["useEffect"])((()=>{Object(_["a"])(x.a.mark((function e(){var t;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,le.view_account({did:"did:near:".concat(de)});case 3:e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),b(t.account.account_custom_node_name);case 6:case"end":return e.stop()}}),e)})))()}),[]);var u=[{key:"download",icon:"icon-xiazai1",title:"Download",callback:j},{key:"share",icon:"icon-fenxiang",title:"Share Link",callback(t){var a=null===m||void 0===m?void 0:m.list[t].cid;e.setShareUrl("https://".concat(a,".ipfs.dweb.link/")),e.setShareModal(!0)}},{key:"rename",icon:"icon-zhongmingming",title:"Rename",callback:ke},{key:"copy",icon:"icon-fuzhi",title:"Copy",callback(t){e.setCheckData(null===m||void 0===m?void 0:m.list[t]),e.setSelectListType("copy"),e.setSelectListModal(!0)}},{key:"move",icon:"icon-yidongdao",title:"Move",callback(){e.setSelectListType("move"),e.setSelectListModal(!0)}},{key:"delete",icon:"icon-shanchu",title:"Remove",callback(t){"all"===ie&&(t=null===m||void 0===m?void 0:m.list.map((e=>e.sid))),"recently used"==e.title?"number"===typeof t?(Object(X["a"])([null===m||void 0===m?void 0:m.list[t].sid]),e.reloadTable(),f["default"].success("Record Remove Success")):"object"===typeof t&&(Object(X["a"])(t),e.reloadTable(),C([]),f["default"].success("Record Remove Success")):"number"===typeof t?(e.setClickItem({listData:null===m||void 0===m?void 0:m.list[t],folderName:null===m||void 0===m?void 0:m.folderName,isOnly:!0}),e.setDeleteModal(!0)):"object"===typeof t&&(e.setClickItem({listData:t,folderName:null===m||void 0===m?void 0:m.folderName,isOnly:!1}),e.setDeleteModal(!0))}}];function j(t){"object"===typeof t&&(null===m||void 0===m||m.list.map(((e,a)=>{e.sid==t[0]&&(t=a)}))),e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open"}});var a=null===m||void 0===m?void 0:m.list[t],n=a.cid,c=0==a.network_id?Object(q["a"])(n,a.file_name):Object(q["b"])(n);if(a){var i=a.file_name,r=null===m||void 0===m?void 0:m.list[t];e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:0,fileName:r.file_name,filesize:r.file_size,type:"Parsing"}}}),ee()({method:"get",url:c,responseType:"blob",headers:{"content-type":a.file_type},onDownloadProgress:t=>{e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:t.loaded/t.total*100,fileName:r.file_name,filesize:r.file_size,type:"Downloading"}}})}}).then((t=>{var n=new Blob([t.data],{type:t.data.type}),c=document.createElement("a"),o=window.URL.createObjectURL(n);c.href=o,c.download=i,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(o),Object(X["c"])(a),Y(t.data.size),e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:r.file_name,filesize:r.file_size,type:"Success"}}})})).catch((t=>{e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:r.file_name,filesize:r.file_size,type:"Error"}}})}))}}var p=Object(l["useRef"])(null),v=Object(A["a"])((e=>N(null===e||void 0===e?void 0:e.nextPage)),{target:p,isNoMore(e){return!1===(null===e||void 0===e?void 0:e.next)}}),m=v.data,h=v.loading,k=(v.loadMore,v.loadingMore),y=v.noMore,w=v.reload;function N(){return B.apply(this,arguments)}function B(){return B=Object(_["a"])(x.a.mark((function t(){var a,n,c,i=arguments;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:0,r(!0),n=[],c=!1,t.prev=4,t.next=7,e.getList(a);case 7:return n=t.sent,n=se(n),t.next=11,Promise.all(n.map(function(){var e=Object(_["a"])(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.network_id){e.next=8;break}return e.next=3,S["a"].status(t.cid);case 3:a=e.sent,a.pins.some((e=>"Pinning"==e.status))?t.pinStatus="Pinning":a.pins.some((e=>"Pinned"==e.status))?t.pinStatus="Pinned":t.pinStatus="PinQueued",n=[],0!=a.deals.length?a.deals.forEach((e=>{n.push(e)})):n.push("Queuing"),t.storageProviders=n;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:if(t.sent,"recently used"!==e.title){t.next=14;break}throw Error;case 14:if("newFloder"!==e.floderType){t.next=16;break}throw Error;case 16:n.length&&(a+=1,c=!0),r(!1),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](4),r(!1),console.warn(t.t0);case 24:return t.abrupt("return",{list:n,nextPage:a,next:c});case 25:case"end":return t.stop()}}),t,null,[[4,20]])}))),B.apply(this,arguments)}Object(l["useEffect"])((()=>{e.setReloadTable((()=>()=>{be("no"),C([]),K([]),w()}))}),[w]);var I=Object(l["useState"])([]),M=Object(i["a"])(I,2),L=M[0],C=M[1],T=Object(l["useState"])([]),R=Object(i["a"])(T,2),E=R[0],K=R[1],H=e=>{var t=L.concat();t[e]=!t[e];var a=[];for(var n in t)a.push(null===m||void 0===m?void 0:m.list[n].sid);K(a),C(t)};Object(l["useEffect"])((()=>{var t,a,n=L.filter((e=>e));n.length===(null===m||void 0===m||null===(t=m.list)||void 0===t?void 0:t.length)&&be("all"),n.length<((null===m||void 0===m||null===(a=m.list)||void 0===a?void 0:a.length)||0)&&be("some"),0===n.length&&be("no"),e.dispatch({type:"menu/save",state:{audioList:null===m||void 0===m?void 0:m.list}})}),[m,L]);var V=Object(U["a"])({}),W=Object(i["a"])(V,2),Z=W[0],G=W[1];Object(l["useEffect"])((()=>{e.headerList.map((e=>{e.sort&&G({[e.key]:0})}))}),[e.headerList]);var $=e=>{if(e){var t=Math.floor(e/1044*100);return{minWidth:t+"%"}}return{flex:1}},te=()=>e.headerList.map((e=>{var t=e.align||"left",a=()=>{var t="";return e.sort&&(t+="pointer"),t},n=()=>{if(e.sort){var t=()=>{var t=Z[e.key];return 0===t?"":1===t?F.a.top:2===t?F.a.bottom:void 0};return Object(D["jsxs"])("div",{className:"".concat(F.a.sort," ").concat(t()),children:[Object(D["jsx"])(O["a"],{type:"icon-shang",className:F.a.top}),Object(D["jsx"])(O["a"],{type:"icon-xia",className:F.a.bottom})]})}};return Object(D["jsxs"])("div",{className:a(),style:Object(c["a"])(Object(c["a"])({},$(e.width)),{},{textAlign:t}),onClick:()=>ae(e),children:[e.title,n()]},e.key)}));function ae(e){e.sort&&G((t=>({[e.key]:(t[e.key]+1)%3})))}var ne=Object(l["useState"])("no"),ce=Object(i["a"])(ne,2),ie=ce[0],be=ce[1],ue=()=>{var e=!1,t=!1;return"some"===ie&&(e=!0),"all"===ie&&(t=!0),Object(D["jsx"])(P["a"],{onChange:je,indeterminate:e,checked:t})};function je(){var e,t;"all"===ie?C(new Array(null===m||void 0===m||null===(e=m.list)||void 0===e?void 0:e.length).fill(!1)):C(new Array(null===m||void 0===m||null===(t=m.list)||void 0===t?void 0:t.length).fill(!0))}var pe=Object(l["useState"])({index:-1,status:""}),fe=Object(i["a"])(pe,2),_e=fe[0],ve=fe[1],xe=Object(l["useState"])(-1),me=Object(i["a"])(xe,2),he=me[0],Oe=me[1],ge=()=>{var t;if(0==(null===m||void 0===m?void 0:m.list.length))return!1;var a=e=>Object(D["jsx"])("div",{children:Object(D["jsx"])("ul",{children:e.map(((e,t)=>Object(D["jsxs"])("li",{children:[Object(D["jsx"])("a",{href:"https://filfox.info/en/deal/".concat(e.dealId),children:e.storageProvider}),Object(D["jsxs"])("span",{children:[" ",e.status]})]},t)))})});return null===m||void 0===m||null===(t=m.list)||void 0===t?void 0:t.map(((t,n)=>{var i=t=>{var i=()=>{var e=null;return e=Object(D["jsx"])("div",{className:"".concat(F.a.nameBox," pointer ").concat(F.a.nowrap),onClick:()=>ve(Object(c["a"])(Object(c["a"])({},_e),{},{index:n})),children:Object(D["jsx"])(z["a"],{placement:"topLeft",content:t.file_name,children:t.file_name})}),e},r=()=>{var e=e=>{Oe(-1),e.callback&&e.callback(n)},t=u.map(((t,a)=>Object(D["jsx"])("div",{onClick:()=>e(t),children:Object(D["jsx"])(g["a"],{borderAnimation:!0,radius:4,defaultBorder:!1,background:"#33373f",children:Object(D["jsxs"])("div",{className:F.a.line,children:[Object(D["jsx"])(O["a"],{type:t.icon,size:16}),Object(D["jsx"])("div",{className:F.a.title,children:t.title})]})})},a)));return Object(D["jsx"])("div",{className:F.a.setBox,children:t})};return e.headerList.map((e=>{var o=e.align||"left",s=t[e.key];return"name"===e.key&&(s=Object(D["jsxs"])("div",{className:"df aic",children:[Object(D["jsx"])(O["a"],{type:t.icon,size:20}),i()]})),"set"===e.key&&(s=Object(D["jsx"])(z["a"],{content:r(),trigger:"click",overlayClassName:"tableSetPopover",placement:"bottomRight",visible:he===n,onVisibleChange:e=>{Oe(e?n:-1)},children:Object(D["jsx"])("div",{children:Object(D["jsx"])(O["a"],{type:"icon-gengduo",size:32,className:"".concat(F.a.setIcon," pointer")})})})),"file_size"===e.key&&(s=Object(D["jsx"])("span",{children:Object(J["b"])(t[e.key],2)})),"storageProviders"==e.key&&0==t.network_id?"string"!=typeof t[e.key][0]&&0==t.network_id?s=Object(D["jsx"])(z["a"],{content:a(t[e.key]),children:Object(D["jsx"])("div",{style:{color:"#00b8c4"},children:"Details"})}):"string"==typeof t[e.key][0]&&(s=Object(D["jsx"])("div",{children:t[e.key][0]})):"storageProviders"==e.key&&1==t.network_id?s=Object(D["jsx"])("div",{children:"IPFS_NODE"}):"storageProviders"==e.key&&2==t.network_id&&(s=Object(D["jsx"])("div",{children:d})),"created"===e.key&&(s=Object(D["jsx"])("span",{children:Object(J["a"])(t[e.key])})),"pinStatus"===e.key&&0==t.network_id?s=Object(D["jsx"])("span",{children:t[e.key]}):"pinStatus"===e.key&&1==t.network_id?s=Object(D["jsx"])("span",{children:"IPFS_NODE"}):"pinStatus"===e.key&&2==t.network_id&&(s=Object(D["jsx"])("span",{children:d})),"cid"===e.key&&(s=Object(D["jsx"])(z["a"],{content:t[e.key],children:Object(D["jsx"])("div",{className:F.a.keyBox,children:t[e.key]})})),Object(D["jsx"])("div",{style:Object(c["a"])(Object(c["a"])({},$(e.width)),{},{textAlign:o}),className:"df",children:s},e.key)}))};return Object(D["jsx"])("div",{className:"".concat(F.a.tableListBox," tableListBox"),onDoubleClick:()=>{Object(X["c"])(t),"music"!==t.file_folder[0]&&e.setPreviewState({previewURL:0==t.network_id?Object(q["a"])(t.cid,t.file_name):Object(q["b"])(t.cid),isPreview:!0,previewType:"",fileType:t.file_type}),e.audioActiveIndex===n?(e.dispatch({type:"menu/save",state:{audioActiveIndex:-1}}),setTimeout((()=>{e.dispatch({type:"menu/save",state:{audioActiveIndex:n}})}),300)):e.dispatch({type:"menu/save",state:{audioActiveIndex:n}})},children:Object(D["jsx"])(g["a"],{borderAnimation:!0,fileType:t.file_folder,fileCid:t.sid,inline:!1,children:Object(D["jsxs"])("div",{className:F.a.tableList,children:[Object(D["jsx"])("div",{className:F.a.checkedBox,children:Object(D["jsx"])(P["a"],{onChange:()=>H(n),checked:L[n]})}),i(t)]})})},n)}))};function ke(e){if(void 0!==e)ve(Object(c["a"])(Object(c["a"])({},_e),{},{index:e}));else{var t=L.filter((e=>e));if(1===t.length){var a=L.findIndex((e=>e));ve(Object(c["a"])(Object(c["a"])({},_e),{},{index:a}))}}}function ye(){return y?(null===m||void 0===m?void 0:m.nextPage)>1?"---No More---":"":k?"Loading...":void 0}var we=Object(l["useState"])(),Se=Object(i["a"])(we,2),Ne=Se[0];Se[1];function Be(){return Ne||(null!==m&&void 0!==m&&m.nextPage||null!==m&&void 0!==m&&m.list.length||n?n?Object(D["jsx"])(oe["a"],{}):Object(D["jsxs"])(D["Fragment"],{children:[Object(D["jsxs"])("div",{className:F.a.TableBox,children:[Object(D["jsxs"])("div",{className:F.a.header,children:[Object(D["jsx"])("div",{className:F.a.checkedBox,children:ue()}),te()]}),Object(D["jsx"])("div",{className:F.a.content,ref:p,children:h?Object(D["jsx"])("div",{className:"df jcc",style:{opacity:"0.1"},children:"loading"}):Object(D["jsxs"])(D["Fragment"],{children:[ge(),Object(D["jsx"])("div",{className:"df jcc",style:{opacity:"0.1"},children:ye()})]})})]}),Object(D["jsx"])(Q,{allChecked:ie,tableCheckedList:L,setList:u,checkindex:E})]}):Object(D["jsx"])(re,{image:e.noDataImage,title:e.noData}))}return Be()};function ue(e){var t=e.globalTop.token,a=e.menu.audioActiveIndex;return{token:t,audioActiveIndex:a}}var je=Object(s["c"])(ue)(be),pe=a("9cNf"),fe=a.n(pe),_e=a("P5Jw"),ve=e=>{var t="SHARE",a=()=>{e.setShareModal(!1)};return Object(D["jsx"])(n["a"],{title:t,visible:e.shareModal,footer:!1,onCancel:a,centered:!0,zIndex:1031,children:Object(D["jsxs"])("div",{className:fe.a.ShareBox,children:[Object(D["jsx"])("div",{className:fe.a.title,children:"Share link has been generated"}),Object(D["jsxs"])("div",{className:fe.a.inputBox,children:[Object(D["jsx"])(g["a"],{radius:4,borderAnimation:!1,children:Object(D["jsx"])("div",{className:fe.a.input,children:e.shareUrl})}),Object(D["jsx"])(_e["CopyToClipboard"],{text:e.shareUrl,children:Object(D["jsx"])("div",{className:fe.a.copy,children:"Copy"})})]})]})})};function xe(e){var t=e.globalTop.token;return{token:t}}var me=Object(s["c"])(xe)(ve),he=a("R8ux"),Oe=e=>{var t=Object(l["useState"])(!1),a=Object(i["a"])(t,2),c=a[0],r=a[1],o=S["b"].contract,s=e.clickItem,d="Delete",b=()=>{e.setDeleteModal(!1)},u=function(){var t=Object(_["a"])(x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(s),r(!0),!s.isOnly){t.next=17;break}if(!s.listData.cid||s.folderName){t.next=10;break}return t.next=6,o.file_delete({cid:s.listData.cid});case 6:e.reloadTable(),e.setDeleteModal(!1),t.next=15;break;case 10:if(!s.listData.cid||!s.folderName){t.next=15;break}return t.next=13,o.file_delete_in_folder({cid:s.listData.cid,folder:s.folderName});case 13:e.reloadTable(),e.setDeleteModal(!1);case 15:t.next=41;break;case 17:if(!s.listData||s.folderName){t.next=30;break}return t.prev=18,t.next=21,o.files_delete({sids:s.listData},he["d"]);case 21:e.reloadTable(),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](18),f["default"].error("Error");case 27:e.setDeleteModal(!1),t.next=41;break;case 30:if(!s.listData||!s.folderName){t.next=41;break}return t.prev=31,t.next=34,o.files_delete_in_folder({sids:s.listData,folder:s.folderName});case 34:e.reloadTable(),t.next=40;break;case 37:t.prev=37,t.t1=t["catch"](31),f["default"].error("Error");case 40:e.setDeleteModal(!1);case 41:r(!1);case 42:case"end":return t.stop()}}),t,null,[[18,24],[31,37]])})));return function(){return t.apply(this,arguments)}}();return Object(D["jsx"])(n["a"],{title:d,visible:e.deleteModal,confirmLoading:c,onCancel:b,onOk:u,centered:!0,zIndex:1031,cancelText:"No",okText:"Yes",children:"Are you sure to delete this file (folder)?"})};function ge(e){var t=e.globalTop.token;return{token:t}}var ke=Object(s["c"])(ge)(Oe),ye=a("PWKf"),we=a.n(ye),Se=e=>{var t=S["b"].contract,a=S["b"].getID,c=(S["b"].getlist,"copy"===e.type?"Copy":"Move"),r=Object(l["useState"])(!1),o=Object(i["a"])(r,2),s=(o[0],o[1],Object(l["useState"])([{icon:"",title:""}])),d=Object(i["a"])(s,2),b=d[0],u=d[1],j=Object(l["useState"])(!1),p=Object(i["a"])(j,2),f=p[0],v=p[1],m=function(){var e=Object(_["a"])(x.a.mark((function e(){var n,c,i;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,t.view_account({did:"did:near:".concat(a)});case 3:for(i in e.t1=e.sent,n=e.t0.parse.call(e.t0,e.t1),c=[],n.file_folders)"picture"===n.file_folders[i]||"music"===n.file_folders[i]||"video"===n.file_folders[i]||"document"===n.file_folders[i]||"other"===n.file_folders[i]||c.push({title:n.file_folders[i],icon:"icon-wenjian"});return e.abrupt("return",[...c]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l["useEffect"])((()=>{Object(_["a"])(x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,m();case 3:e.t1=e.sent,e.t2=[...e.t1],(0,e.t0)(e.t2);case 6:case"end":return e.stop()}}),e)})))()}),[]);var h=function(){var a=Object(_["a"])(x.a.mark((function a(n){return x.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(v(!0),"copy"!==e.type){a.next=7;break}return a.next=4,t.file_copy_to_folder({sid:e.checkData.sid,folder:n});case 4:a.sent,a.next=11;break;case 7:if("move"!==e.type){a.next=11;break}return a.next=10,t.file_copy_to_folder({sid:e.checkData.sid,folder:n});case 10:a.sent;case 11:v(!1),g();case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),g=function(){var t=Object(_["a"])(x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setSelectListModal(!1);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(D["jsx"])(n["a"],{title:c,visible:e.selectListModal,confirmLoading:f,onCancel:g,centered:!0,zIndex:1031,children:0!==b.length&&Object(D["jsxs"])("div",{className:we.a.SelectListBox,children:[b.map(((e,t)=>Object(D["jsxs"])("div",{className:"".concat(we.a.box),onClick:()=>h(e.title),children:[Object(D["jsx"])(O["a"],{type:e.icon,size:20}),Object(D["jsx"])("div",{className:we.a.title,children:e.title})]},t))),0===b.length&&Object(D["jsx"])("div",{children:"None"})]})})};function Ne(e){var t=e.globalTop.token;return{token:t}}var Be=Object(s["c"])(Ne)(Se),De=(a("mHj4"),e=>{var t=Object(l["useState"])([{key:"name",title:"Name"},{key:"cid",title:"CID",width:300},{key:"pinStatus",title:"Pin Status",width:100},{key:"file_size",title:"Size",width:100},{key:"created",title:"Timestamp",width:130},{key:"storageProviders",title:"Storage Providers",width:100},{key:"set",title:"",width:70}]),a=Object(i["a"])(t,2),r=a[0],s=(a[1],Object(l["useState"])(!1)),d=Object(i["a"])(s,2),b=d[0],u=d[1],j=Object(l["useState"])(!1),p=Object(i["a"])(j,2),f=p[0],_=p[1],v=Object(l["useState"])("copy"),x=Object(i["a"])(v,2),m=x[0],h=x[1],O=Object(l["useState"])(!1),g=Object(i["a"])(O,2),k=g[0],y=g[1],w=Object(l["useState"])(),S=Object(i["a"])(w,2),N=(S[0],S[1]),B=Object(l["useState"])(null),I=Object(i["a"])(B,2),M=I[0],L=I[1],C=Object(l["useState"])(null),z=Object(i["a"])(C,2),P=z[0],R=z[1],F=Object(l["useState"])(!1),A=Object(i["a"])(F,2),U=(A[0],A[1]),E=Object(l["useState"])(""),K=Object(i["a"])(E,2),H=K[0],V=K[1],Q=Object(l["useState"])(1),J=Object(i["a"])(Q,2),q=(J[0],J[1],Object(l["useState"])((()=>()=>{}))),X=Object(i["a"])(q,2),W=X[0],Z=X[1],G=(Object(l["useRef"])(null),Object(l["useState"])({previewURL:"",isPreview:!1,previewType:"",fileType:""})),Y=Object(i["a"])(G,2),$=Y[0],ee=Y[1];Object(l["useImperativeHandle"])(e.onRef,(()=>({reloadTable:W})));var te=Object(l["useState"])(),ae=Object(i["a"])(te,2),ne=ae[0],ce=ae[1];return Object(D["jsxs"])("div",{className:o.a.FileTable,children:[Object(D["jsx"])(T,{setFileModelDisplay:U,setFileDownloadStatus:N,title:e.title,reloadTable:W,floderType:e.floderType}),Object(D["jsxs"])("div",{className:o.a.tableCardBox,children:[Object(D["jsx"])("div",{className:o.a.title,children:e.title}),e.tableAfterContent&&e.tableAfterContent(ne),Object(D["jsx"])(je,{setShowCheck:ce,setFileModelDisplay:U,setFileDownloadStatus:N,setCheckData:R,title:e.title,floderType:e.floderType,headerList:r,getList:e.getList,setShareModal:u,setDeleteModal:_,setClickItem:L,setSelectListType:h,setSelectListModal:y,setReloadTable:Z,noData:e.noData,reloadTable:W,noDataImage:e.noDataImage,setShareUrl:V,setPreviewState:ee})]}),Object(D["jsx"])(me,{shareUrl:H,shareModal:b,setShareModal:u}),Object(D["jsx"])(ke,{deleteModal:f,clickItem:M,setDeleteModal:_,reloadTable:W}),Object(D["jsx"])(Be,{type:m,selectListModal:k,checkData:P,setSelectListModal:y}),Object(D["jsx"])("div",{className:"previewContent",children:Object(D["jsx"])(n["a"],{visible:$.isPreview,footer:null,className:"previewContent",width:"image"===$.previewType?"520px":"80%",onCancel:()=>ee(Object(c["a"])(Object(c["a"])({},$),{},{isPreview:!1})),style:{backgroundColor:"rgba(0,0,0,0)"},children:Object(D["jsx"])("div",{className:o.a.previewBox,style:{textAlign:"center"},children:Object(D["jsx"])("embed",{src:$.previewURL,style:{color:"#fff",backgroundColor:"#f1f1f1"},type:$.fileType,color:"#fff",width:"800",height:"800"})})})})]})});function Ie(e){var t=e.globalTop.token;return{token:t}}t["a"]=Object(s["c"])(Ie)(De)},LhIy:function(e,t,a){e.exports={Card:"Card___1dkUe",card:"Card___1dkUe",bg1:"bg1___24BOV",bg2:"bg2___UzlPQ",defaultBorder:"defaultBorder___1_YUD",borderAnimation:"borderAnimation___1YmcH",bg2Animation:"bg2Animation___279zQ"}},Ns3m:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));var n=e=>{var t=e.toString().substring(0,13),a=new Date(Number(t)),n=a.getFullYear(),c=(a.getMonth()+1).toString().padStart(2,"0"),i=a.getDate().toString().padStart(2,"0"),r=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0"),s=a.getSeconds().toString().padStart(2,"0");return"".concat(n,"-").concat(c,"-").concat(i," ").concat(r,":").concat(o,":").concat(s)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0==e)return"0 B";var a=1024,n=t||2,c=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,i)).toFixed(n))+" "+c[i]}},P6Xv:function(e,t,a){e.exports={FileTable:"FileTable___32DeQ",fileTable:"FileTable___32DeQ",tableCardBox:"tableCardBox___3DtSz",title:"title___3HWSd",previewBox:"previewBox___2s4XA","ant-modal-wrap":"ant-modal-wrap___2mgI0",antModalWrap:"ant-modal-wrap___2mgI0","ant-modal-content":"ant-modal-content___1VVh9",antModalContent:"ant-modal-content___1VVh9"}},PWKf:function(e,t,a){e.exports={SelectListBox:"SelectListBox___gqeNs",selectListBox:"SelectListBox___gqeNs",box:"box___36UWR",title:"title___229dL"}},SOgc:function(e,t,a){e.exports={noData:"noData___1C8Nx",image:"image___3wLPh"}},UTfn:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a("2LCi"),c=n["b"].getID,i=c,r=e=>{var t=[];localStorage.getItem("".concat(i,"_recentlyFiles"))&&(t=JSON.parse(localStorage.getItem("".concat(i,"_recentlyFiles"))||""));var a=0,n=t.some(((t,n)=>(t.sid===e.sid&&(a=n),t.sid===e.sid)));n?t.unshift(t.splice(a,1)[0]):t.unshift(e),t.length>10&&t.splice(10),localStorage.setItem("".concat(i,"_recentlyFiles"),JSON.stringify(t))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=JSON.parse(localStorage.getItem("".concat(i,"_recentlyFiles"))||"[]");return t.splice(e),t},s=e=>{var t=JSON.parse(localStorage.getItem("".concat(i,"_recentlyFiles"))||"[]"),a=function(a){t.some(((n,c)=>{n.sid===e[a]&&t.splice(c,1)}))};for(var n in e)a(n);console.log(t),localStorage.setItem("".concat(i,"_recentlyFiles"),JSON.stringify(t))}},ZmDx:function(e,t,a){e.exports={card:"card___1H9KL",ImportButton:"ImportButton___3wovt",importButton:"ImportButton___3wovt",bg:"bg___RGVgN",addIconBox:"addIconBox___1jdvt",title:"title___3BeV-",modalBarList:"modalBarList___1KOCB",modalBar:"modalBar___Zn3D3",displayNone:"displayNone___6ENxD",addMessageModal:"addMessageModal___1MHHx",addMessageModalList:"addMessageModalList___VXy0I"}},bIAK:function(e,t,a){"use strict";var n=a("9Eo+"),c=a.n(n),i=a("nKUr"),r=e=>Object(i["jsx"])("div",{className:c.a.loadingBox,children:Object(i["jsxs"])("div",{className:c.a.loader,children:[Object(i["jsxs"])("div",{className:c.a.row,children:[Object(i["jsx"])("span",{}),Object(i["jsx"])("span",{}),Object(i["jsx"])("span",{})]}),Object(i["jsxs"])("div",{className:c.a.row,children:[Object(i["jsx"])("span",{}),Object(i["jsx"])("span",{}),Object(i["jsx"])("span",{})]}),Object(i["jsxs"])("div",{className:c.a.row,children:[Object(i["jsx"])("span",{}),Object(i["jsx"])("span",{}),Object(i["jsx"])("span",{})]})]})});t["a"]=r},cEo8:function(e,t,a){e.exports={ActionHeader:"ActionHeader___mfRla",actionHeader:"ActionHeader___mfRla",searchBox:"searchBox___17RA6"}},jnMK:function(e,t,a){"use strict";var n=a("k1fw"),c=a("LhIy"),i=a.n(c),r=a("nKUr"),o=e=>{e=Object(n["a"])({inline:!0,radius:8,defaultBorder:!0,background:"rgb(38, 41, 45)",borderAnimation:!1},e);var t="".concat(i.a.Card," ").concat(e.borderAnimation?i.a.borderAnimation:""),a={borderRadius:e.radius+"px",display:e.inline?"inline-block":"block"};e.boxShadow&&(a.boxShadow=e.boxShadow);var c={borderRadius:e.radius+"px",background:e.background},o={borderRadius:e.radius+"px"};return Object(r["jsxs"])("div",{className:t,style:a,children:[Object(r["jsx"])("div",{className:"".concat(i.a.bg1," ").concat(e.className||""),style:c}),Object(r["jsx"])("div",{className:"".concat(i.a.bg2," ").concat(e.defaultBorder?i.a.defaultBorder:""),style:o}),e.children]})};t["a"]=o},mHj4:function(e,t,a){},qmVF:function(e,t,a){e.exports={TableBox:"TableBox___2qmXd",tableBox:"TableBox___2qmXd",header:"header___7Ov0w",checkedBox:"checkedBox___3BfNr",sort:"sort___2wsdz",top:"top___trrjj",bottom:"bottom___1pEKk",content:"content___12nxE",tableListBox:"tableListBox___1Pzdk",setIcon:"setIcon___2zarF",tableList:"tableList___2wz6O",nameBox:"nameBox___3LLkv",keyBox:"keyBox___11u03",nowrap:"nowrap___9N2pQ",fileSetBottomRender:"fileSetBottomRender___3PRN4",box:"box___2GbUH",disabled:"disabled___3ae4n",innerBox:"innerBox___38IJ4",card:"card___2Ivo4",title:"title___d8IEV",setBox:"setBox___2iyIL",line:"line___1EvBp",container:"container___2Uu5z",loader:"loader___1P_QQ",loaderDot:"loaderDot___3bPCC"}},wb4B:function(e,t,a){e.exports={FileSetBottomRender:"FileSetBottomRender___2jVP1",fileSetBottomRender:"FileSetBottomRender___2jVP1",box:"box___3T-yh",disabled:"disabled___GUztX",innerBox:"innerBox___3esmy",card:"card___1MlHo",title:"title___1jUZb"}}}]);